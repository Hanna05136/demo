<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario Bootstrap</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" th:href="@{/css/registro.css}">
  <style>
    .error {
      color: red;
      font-size: 0.8rem;
      margin: 4px 0 8px 0;
      display: block;
    }
  </style>
</head>

<body>
  <div class="container-fluid vh-100">
    <div class="row h-100">
      <!-- Sección del Formulario -->
      <div class="col-md-6 d-flex align-items-center justify-content-center">
        <div class="card shadow w-75 p-4">
          <div class="card-body">
            <h1 class="mb-4 text-center">Regístrate</h1>

            <!-- Aquí usamos Thymeleaf -->
            <form th:action="@{/registro}" th:object="${persona}" method="post" onsubmit="return validarFormulario()">
              <div class="mb-3">
                <input type="text" th:field="*{nombre}" class="form-control" id="nombre"
                  placeholder="Digite su nombre" maxlength="30"
                  pattern="[A-Za-zÁÉÍÓÚáéíóúñÑ\s]+" title="Solo letras" required />
                <span class="error" id="error-nombres"></span>
              </div>
              <div class="mb-3">
                <input type="email" th:field="*{email}" class="form-control" id="email"
                  placeholder="Ingrese la dirección de correo" required>
                <span class="error" id="error-email"></span>
              </div>
              <div class="mb-3">
                <input type="contraseña" th:field="*{contraseña}" class="form-control" id="contraseña"
                  placeholder="Contraseña" maxlength="10"
                  pattern="(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*.,?]).{8,10}"
                  title="Debe tener entre 8 y 10 caracteres, incluir una mayúscula, un número y un símbolo" required />
                <i class="fa fa-eye toggle-contraseña" onclick="mostrarContrasena('contraseña', this)"></i>
                <span class="error" id="error-contraseña"></span>
              </div>
              <div class="mb-3">
                <input type="contraseña" class="form-control" id="confirmar" placeholder="Confirme su contraseña" required
                  title="Debe coincidir con la contraseña anterior" />
                <i class="fa fa-eye toggle-password" onclick="mostrarContrasena('confirmar', this)"></i>
                <span class="error" id="error-confirmar"></span>
              </div>

              <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="terminos" />
                <label class="form-check-label" for="terminos">
                  Acepto términos y condiciones
                </label>
                <span class="error" id="error-terminos"></span>
              </div>

              <button type="submit" class="btn btn-dark w-100">Crear Cuenta</button>
              <div class="mt-3 text-center">
                <a th:href="@{/login}" class="btn btn-outline-secondary me-2">Volver al Login</a>
                <a th:href="@{/{}}" class="btn btn-outline-primary">Volver al Home</a>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Sección de Imagen -->
      <div class="col-md-6 image-section d-none d-md-block">
        <img th:src="@{/imagenes/pasta-794464_1280.jpg}" class="img-fluid">
      </div>
    </div>
  </div>

  <!-- Scripts de Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Tu JS de validación (idéntico al que ya tienes) -->
  <script th:src="@{/js/validaciones.js}"></script>
</body>
</html>
